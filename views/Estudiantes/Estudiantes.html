{# Heredando la plantilla principal #}
{% extends 'default_layout.html' %}

{% block extraCSS %}
<style>
  #listadoEstudiantes {
    width: 100% !important; /* Fix Datatable width issues */
  }
  .ColorFila {
    background-color: rgb(223, 252, 234);
  }
</style>
{% endblock %}

{% block javascripts %}
    <script type="text/JavaScript" src="js/Estudiantes/Estudiantes.js"></script>
    <script type="text/JavaScript">         
      $(document).ready(function () { 
        // Activar tooltips Bootstrap 5 (si usas BS5, la sintaxis cambia ligeramente, esto es para BS4)
        $('[data-toggle="tooltip"]').tooltip();
      });
      
      // Plugin para eliminar acentos en la búsqueda de DataTables
      (function(){
          function removeAccents ( data ) {
              if ( data.normalize ) {
                  return data +' '+ data
                      .normalize('NFD')
                      .replace(/[\u0300-\u036f]/g, '');
              }
              return data;
          }
            
          var searchType = jQuery.fn.DataTable.ext.type.search;
          searchType.string = function ( data ) {
              return ! data ? '' : typeof data === 'string' ? removeAccents( data ) : data;
          };
          searchType.html = function ( data ) {
              return ! data ? '' : typeof data === 'string' ? removeAccents( data.replace( /<.*?>/g, '' ) ) : data;
          };
      }());
  </script>
{% endblock %}

{% block contenidos %}
<div class="content-wrapper fondoBody">
    
  <section class="content">
      <div class="container-fluid"> <div class="row">
            <div class="col-12">
              <div class="card card-primary card-outline"> <div class="card-header bg-gradient-navy">
                  <div class="d-flex justify-content-between align-items-center">
                    <h3 class="card-title text-white"><i class="fas fa-users"></i> Estudiantes</h3>
                    
                    <div class="card-tools">
                        <form action="" method="post" name="formBuscar" id="formBuscar">
                            <input type="hidden" id="accion_buscar" name="accion_buscar" value="GenerarCodigoNuevo">
                            <button type="button" class="btn btn-success" data-toggle="tooltip" title="Nuevo Estudiante" id="goNuevoUser">
                              <i class="fas fa-user-plus"></i> Nuevo
                            </button>
                        </form>
                    </div>
                  </div>
                </div>
                
                <div class="card-body">
                  <table id="listadoEstudiantes" class="table table-bordered table-striped table-hover nowrap display" style="width:100%">
                    <thead class="thead-dark">
                      <tr class="ColorFila">
                          <th>Acción</th>
                          <th>Id</th>
                          <th>NIE</th>
                          <th>Nombre Completo</th>
                          <th>Fec. Nac.</th>
                          <th>Edad</th>
                          <th>Estatus</th>
                          <th>Encargado</th>
                          <th>Fecha Nac. Enc.</th>
                          <th>Familiar</th>
                          <th>DUI</th>
                          <th>Dirección</th>
                          <th>Teléfono</th>
                        </tr>                
                    </thead>
                      <tbody id="listadoEstudiantesOk">
                          </tbody>
                  </table>
                </div> 
                <div class="card-footer bg-gradient-navy">
                  </div>
              </div> 
            </div>
          </div>
      </div>
    </section>  
</div> 
{% endblock %}

{% block loginUser %}
{% endblock %}